<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>数据处理中...</title>
    <script>
        // 页面加载时立即执行
        function processAndRedirect() {
            // 1. 从URL获取参数
            const urlParams = new URLSearchParams(window.location.search);
            const ip = urlParams.get('ip');
            const label = urlParams.get('label') || '服务器当前IP为：';

            if (ip) {
                // 2. 将数据存入LocalStorage
                localStorage.setItem('serverIP', ip);
                localStorage.setItem('ipLabel', label);
                localStorage.setItem('lastUpdate', new Date().toLocaleString());

                // 3. （可选）可在此处添加其他逻辑，如验证IP格式
                console.log('IP已记录：', ip);
            } else {
                console.log('未收到IP参数');
            }

            // 4. 立即跳转回主页面，用户几乎感知不到本页
            window.location.href = ‘../ettd/’; // 或 ‘./index.html’，根据目录结构调整
            // 如果 ipet114514.html 直接在 ett 目录下，则跳转到 ‘./’
        }
        // 页面加载即运行
        window.onload = processAndRedirect;
    </script>
</head>
<body>
    <p>数据处理中，即将跳转...</p>
</body>
</html>
